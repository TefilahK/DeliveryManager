{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tefil\\\\Desktop\\\\DeliveryManager\\\\DeliveryManager\\\\client\\\\src\\\\components\\\\sideBar\\\\ListPackages.js\",\n    _s = $RefreshSig$();\n\n// import React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TablePagination from '@material-ui/core/TablePagination';\nimport TableRow from '@material-ui/core/TableRow';\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport React, { useEffect, useState } from 'react';\nimport $ from \"jquery\";\nimport MaterialTable from 'material-table';\nimport Clear from \"@material-ui/icons/Clear\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport FilterList from \"@material-ui/icons/FilterList\";\nimport FirstPage from \"@material-ui/icons/FirstPage\";\nimport LastPage from \"@material-ui/icons/LastPage\";\nimport Remove from \"@material-ui/icons/Remove\";\nimport AddBox from \"@material-ui/icons/AddBox\";\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\nimport Check from \"@material-ui/icons/Check\";\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\nimport ChevronRight from \"@material-ui/icons/ChevronRight\";\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\nimport Search from \"@material-ui/icons/Search\";\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\nimport KeyboardDatePicker from '@material-ui/pickers';\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\nimport Select from '@material-ui/core/Select';\nimport { withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst email = sessionStorage.getItem(\"userEmail\");\nconst admin = sessionStorage.getItem(\"permissionType\"); //for admin\n\nexport default function EnhancedTable() {\n  _s();\n\n  const useStyles = makeStyles(theme => ({\n    title: {\n      fontSize: \"50px\",\n      fontFamily: \"cursive\",\n      marginRight: theme.spacing(10)\n    },\n    textField: {\n      marginLeft: theme.spacing(1),\n      marginRight: theme.spacing(1),\n      width: 200,\n      height: 200\n    }\n  }));\n  const classes = useStyles();\n  const tableIcons = {\n    Add: () => /*#__PURE__*/_jsxDEV(AddBox, {\n      style: {\n        color: \"black\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 14\n    }, this),\n    Check: () => /*#__PURE__*/_jsxDEV(Check, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 16\n    }, this),\n    Clear: () => /*#__PURE__*/_jsxDEV(Clear, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 16\n    }, this),\n    Delete: () => /*#__PURE__*/_jsxDEV(DeleteIcon, {\n      style: {\n        color: \"red\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this),\n    DetailPanel: () => /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 5\n    }, this),\n    Edit: () => /*#__PURE__*/_jsxDEV(Edit, {\n      style: {\n        color: \"orange\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 15\n    }, this),\n    Export: () => /*#__PURE__*/_jsxDEV(SaveAlt, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }, this),\n    Filter: () => /*#__PURE__*/_jsxDEV(FilterList, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }, this),\n    FirstPage: () => /*#__PURE__*/_jsxDEV(FirstPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 20\n    }, this),\n    LastPage: () => /*#__PURE__*/_jsxDEV(LastPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }, this),\n    NextPage: () => /*#__PURE__*/_jsxDEV(ChevronRight, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }, this),\n    PreviousPage: () => /*#__PURE__*/_jsxDEV(ChevronLeft, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }, this),\n    ResetSearch: () => /*#__PURE__*/_jsxDEV(Clear, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 22\n    }, this),\n    Search: () => /*#__PURE__*/_jsxDEV(Search, {\n      style: {\n        color: \"black\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this),\n    SortArrow: () => /*#__PURE__*/_jsxDEV(ArrowDownward, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 20\n    }, this),\n    ThirdStateCheck: () => /*#__PURE__*/_jsxDEV(Remove, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 26\n    }, this),\n    ViewColumn: () => /*#__PURE__*/_jsxDEV(ViewColumn, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }, this)\n  };\n  const [data, setData] = useState([]);\n  React.useEffect(() => {\n    async function fetchPackages() {\n      let isadmin = sessionStorage.getItem(\"permissionType\") == \"admin\" ? true : false;\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8080/listPackages\",\n        data: {\n          email: email,\n          admin: isadmin\n        }\n      }).done(function (fetchData) {\n        console.log(\"hello\");\n        console.log(fetchData);\n        setData(fetchData.packages);\n      }).fail(function (jqXhr) {\n        alert(\"Try again!!\");\n        console.log(jqXhr);\n      });\n      console.log(\"bye\");\n    }\n\n    fetchPackages();\n  }, []); // Submit form via jQuery/AJAX\n\n  let products = {\n    1: 'oranges',\n    2: 'oranges',\n    3: 'oranges',\n    4: 'oranges',\n    5: 'oranges',\n    6: 'oranges',\n    7: 'oranges',\n    8: 'oranges',\n    9: 'oranges',\n    10: 'oranges'\n  };\n  const columns = [{\n    title: \"ID\",\n    field: \"id\",\n    editable: false\n  }, {\n    title: \"Products\",\n    field: \"products\",\n    validate: rowData => Boolean(rowData.products)\n  }, // lookup:products },\n  {\n    title: \"Address\",\n    field: \"address\",\n    validate: rowData => Boolean(rowData.address)\n  }, {\n    title: \"Date\",\n    field: \"arrivalDate\",\n    id: \"date\",\n    label: \"Birthday\",\n    type: \"date\",\n    dateSetting: {\n      locale: \"nl-NL\"\n    },\n    className: classes.textField,\n    InputLabelProps: {\n      shrink: true\n    },\n    icon: {\n      CalendarTodayIcon\n    },\n    validate: rowData => Boolean(rowData.arrivalDate)\n  }, {\n    title: \"Is Sent\",\n    field: 'isSent'\n  }, {\n    title: \"Volunteer Id\",\n    field: 'volunteerId',\n    editable: true\n  }]; // sessionStorage.getItem(\"permissionType\")==\"admin\" && columns.push({title: \"Repeat\",field: 'repeat', lookup:{24:'Day',720:'Month',8760:'Year'}})\n\n  const onClickSelect = (evt, newdata) => {\n    newdata.forEach(el => {\n      if (!el.isSent) {\n        el.isSent = true;\n        $.ajax({\n          type: \"POST\",\n          url: \"http://localhost:8080/sentPackage\",\n          data: {\n            id: el.id,\n            isSent: true\n          }\n        }).done(function (fetchData) {\n          console.log(fetchData);\n        }).fail(function (jqXhr) {\n          alert(\"Try again!!\");\n          console.log(jqXhr);\n        });\n      }\n\n      el.tableData.checked = false;\n    });\n    console.log(newdata);\n    console.log(data);\n    setData([...data]);\n  };\n\n  const theme = createMuiTheme({\n    palette: {\n      secondary: {\n        main: '#6272a8',\n        light: '#6272a8',\n        dark: '#6272a8'\n      }\n    }\n  });\n  const funcEditable = {\n    onRowAdd: newRow => new Promise((resolve, reject) => {\n      let updatedRows = [...data, {\n        id: Math.floor(Math.random() * 10000),\n        ...newRow\n      }];\n      console.log(updatedRows);\n      let YOUR_ACCESS_TOKEN = \"pk.5ddce3b149ced23354244159a461c149\";\n      let SEARCH_STRING = newRow.address;\n      $.ajax({\n        type: \"GET\",\n        url: 'https://us1.locationiq.com/v1/search.php?key=' + YOUR_ACCESS_TOKEN + '&q=' + SEARCH_STRING + '&format=json'\n      }).done(function (fetchData) {\n        $.ajax({\n          type: \"POST\",\n          url: \"http://localhost:8080/addPackage\",\n          data: {\n            id: Math.floor(Math.random() * 10000),\n            ...newRow,\n            lat: fetchData[0].lat,\n            lon: fetchData[0].lon\n          }\n        }).done(function (fetchData) {\n          console.log(fetchData);\n\n          if (fetchData.status == 200) {\n            let date = new Date(fetchData.packages.arrivalDate);\n            fetchData.packages.arrivalDate = date.toLocaleDateString('nl-NL');\n            updatedRows = [fetchData.packages];\n          } else {\n            alert(\"cant add package!!\");\n          }\n        }).fail(function (jqXhr) {\n          alert(\"cant add package!!\");\n        });\n        setTimeout(() => {\n          console.log();\n          setData([...data, updatedRows]);\n          resolve();\n        }, 2000);\n      }).fail(function (jqXhr) {\n        console.log(jqXhr);\n      }); // if(newRow.repeat!==null){\n      //   updateRepeat(newRow)\n      // }\n    }),\n    onRowDelete: selectedRow => new Promise((resolve, reject) => {\n      const index = selectedRow.tableData.id;\n      console.log(selectedRow);\n      const updatedRows = [...data];\n      updatedRows.splice(index, 1);\n      $.ajax({\n        type: \"DELETE\",\n        url: \"http://localhost:8080/deletePackage\",\n        data: selectedRow\n      }).done(function (fetchData) {\n        console.log(fetchData);\n      }).fail(function (jqXhr) {\n        alert(\"cant delete package!!\");\n      });\n      setTimeout(() => {\n        setData(updatedRows);\n        resolve();\n      }, 2000);\n    }),\n    onRowUpdate: (updatedRow, oldRow) => new Promise((resolve, reject) => {\n      const index = oldRow.tableData.id;\n      const updatedRows = [...data];\n      updatedRows[index] = updatedRow;\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8080/updatePackage\",\n        data: updatedRow\n      }).done(function (fetchData) {\n        console.log(fetchData); // setData(fetchData.packages)\n      }).fail(function (jqXhr) {\n        alert(\"cant update package!!\");\n      });\n      setTimeout(() => {\n        setData(updatedRows);\n        resolve();\n      }, 2000); // if(newRow.repeat!==null){\n      //   updateRepeat(newRow)\n      // }\n    })\n  }; //repeat\n  // let IntervalId=0;\n  //   const \n  //    = setInterval(fname, 10000);\n  // /* later */\n  // clearInterval(refreshIntervalId);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(MuiThemeProvider, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        className: classes.title,\n        children: \"Package List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(MaterialTable, {\n        icons: tableIcons,\n        title: \"\",\n        data: data,\n        columns: columns,\n        options: {\n          selection: true,\n          rowStyle: rowData => ({\n            backgroundColor: rowData.tableData.checked ? '#ced3e4' : ''\n          }),\n          actionsColumnIndex: -1,\n          addRowPosition: \"first\",\n          headerStyle: {\n            backgroundColor: \"black\",\n            color: \"#FFF\",\n            fontWeight: \"bold\"\n          }\n        },\n        editable: sessionStorage.getItem(\"permissionType\") == \"admin\" ? funcEditable : {},\n        actions: [{\n          tooltip: 'package was send Today:' + new Date(),\n          icon: 'check',\n          onClick: onClickSelect\n        }]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 264,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EnhancedTable, \"QDDCSAe0uXoJ7FZ+7kOFOZZsHaA=\", true);\n\n_c = EnhancedTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"EnhancedTable\");","map":{"version":3,"sources":["C:/Users/tefil/Desktop/DeliveryManager/DeliveryManager/client/src/components/sideBar/ListPackages.js"],"names":["PropTypes","clsx","lighten","makeStyles","Table","TableBody","TableCell","TableContainer","TableHead","TablePagination","TableRow","TableSortLabel","Toolbar","Typography","Paper","Checkbox","IconButton","Tooltip","FormControlLabel","Switch","DeleteIcon","EditIcon","FilterListIcon","React","useEffect","useState","$","MaterialTable","Clear","Edit","FilterList","FirstPage","LastPage","Remove","AddBox","ArrowDownward","Check","ChevronLeft","ChevronRight","SaveAlt","Search","ViewColumn","KeyboardDatePicker","CalendarTodayIcon","Select","withStyles","MuiThemeProvider","createMuiTheme","email","sessionStorage","getItem","admin","EnhancedTable","useStyles","theme","title","fontSize","fontFamily","marginRight","spacing","textField","marginLeft","width","height","classes","tableIcons","Add","color","Delete","DetailPanel","Export","Filter","NextPage","PreviousPage","ResetSearch","SortArrow","ThirdStateCheck","data","setData","fetchPackages","isadmin","ajax","type","url","done","fetchData","console","log","packages","fail","jqXhr","alert","products","columns","field","editable","validate","rowData","Boolean","address","id","label","dateSetting","locale","className","InputLabelProps","shrink","icon","arrivalDate","onClickSelect","evt","newdata","forEach","el","isSent","tableData","checked","palette","secondary","main","light","dark","funcEditable","onRowAdd","newRow","Promise","resolve","reject","updatedRows","Math","floor","random","YOUR_ACCESS_TOKEN","SEARCH_STRING","lat","lon","status","date","Date","toLocaleDateString","setTimeout","onRowDelete","selectedRow","index","splice","onRowUpdate","updatedRow","oldRow","selection","rowStyle","backgroundColor","actionsColumnIndex","addRowPosition","headerStyle","fontWeight","tooltip","onClick"],"mappings":"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","sourcesContent":["// import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport React, { useEffect, useState } from 'react';\r\nimport $ from \"jquery\";\r\nimport MaterialTable from 'material-table';\r\nimport Clear from \"@material-ui/icons/Clear\";\r\nimport Edit from \"@material-ui/icons/Edit\";\r\nimport FilterList from \"@material-ui/icons/FilterList\";\r\nimport FirstPage from \"@material-ui/icons/FirstPage\";\r\nimport LastPage from \"@material-ui/icons/LastPage\";\r\nimport Remove from \"@material-ui/icons/Remove\";\r\nimport AddBox from \"@material-ui/icons/AddBox\";\r\nimport ArrowDownward from \"@material-ui/icons/ArrowDownward\";\r\nimport Check from \"@material-ui/icons/Check\";\r\nimport ChevronLeft from \"@material-ui/icons/ChevronLeft\";\r\nimport ChevronRight from \"@material-ui/icons/ChevronRight\"\r\nimport SaveAlt from \"@material-ui/icons/SaveAlt\";\r\nimport Search from \"@material-ui/icons/Search\";\r\nimport ViewColumn from \"@material-ui/icons/ViewColumn\";\r\nimport KeyboardDatePicker from '@material-ui/pickers'\r\nimport CalendarTodayIcon from '@material-ui/icons/CalendarToday';\r\nimport Select from '@material-ui/core/Select';\r\nimport {\r\n\twithStyles,\r\n\tMuiThemeProvider,\r\n\tcreateMuiTheme\r\n} from '@material-ui/core/styles'\r\n\r\n\r\nconst email=sessionStorage.getItem(\"userEmail\");\r\nconst admin=sessionStorage.getItem(\"permissionType\");\r\n\r\n//for admin\r\nexport default function EnhancedTable () {\r\n  const useStyles = makeStyles((theme) => ({\r\n    title:{\r\n      fontSize:\"50px\",\r\n      fontFamily:\"cursive\",\r\n      marginRight: theme.spacing(10),\r\n    },\r\n    textField: {\r\n      marginLeft: theme.spacing(1),\r\n      marginRight: theme.spacing(1),\r\n      width: 200,\r\n      height:200,\r\n    },\r\n  }))\r\n  const classes = useStyles();\r\n    const tableIcons = {\r\n  Add: () => <AddBox style={{color:\"black\"}} />,\r\n  Check: () => <Check />,\r\n  Clear: () => <Clear  />,\r\n  Delete: () => <DeleteIcon style={{color:\"red\"}} />,\r\n  DetailPanel: () => \r\n    <ChevronRight  />  ,\r\n  Edit: () => <Edit style={{color:\"orange\"}} />,\r\n  Export: () => <SaveAlt  />,\r\n  Filter: () => <FilterList  />,\r\n  FirstPage: () => <FirstPage  />,\r\n  LastPage: () => <LastPage  />,\r\n  NextPage: () => <ChevronRight  />,\r\n  PreviousPage: () => \r\n    <ChevronLeft  />  ,\r\n  ResetSearch: () => <Clear  />,\r\n  Search: () => <Search  style={{color:\"black\"}}/>,\r\n  SortArrow: () => <ArrowDownward  />,\r\n  ThirdStateCheck: () => <Remove  />,\r\n  ViewColumn: () => <ViewColumn  />\r\n};\r\n\r\n  const [data, setData] = useState([])\r\n  React.useEffect(() => {\r\n    async function fetchPackages() {\r\n      let isadmin=sessionStorage.getItem(\"permissionType\")==\"admin\"?true:false;\r\n       $.ajax({\r\n        type: \"POST\",\r\n        url: \"http://localhost:8080/listPackages\", \r\n        data: {email:email,admin:isadmin }     \r\n      }).done(function(fetchData) {\r\n        console.log(\"hello\");\r\n        console.log(fetchData);\r\n        setData(fetchData.packages)\r\n        })\r\n        .fail(function(jqXhr) {\r\n          alert(\"Try again!!\");\r\n          console.log(jqXhr)\r\n        })\r\n        console.log(\"bye\");\r\n    }\r\n    fetchPackages();\r\n  }, []);\r\n\r\n  \r\n   // Submit form via jQuery/AJAX\r\n   let products={1:'oranges',2:'oranges',3:'oranges',4:'oranges',5:'oranges',6:'oranges',7:'oranges',8:'oranges',9:'oranges',10:'oranges'}\r\n\r\n  const columns = [\r\n    { title: \"ID\", field: \"id\", editable: false },\r\n    { title: \"Products\", field: \"products\",validate: rowData => Boolean(rowData.products)},// lookup:products },\r\n    { title: \"Address\", field: \"address\", validate: rowData => Boolean(rowData.address)},\r\n    { title: \"Date\", field: \"arrivalDate\",id:\"date\",\r\n    label:\"Birthday\",\r\n    type:\"date\",\r\n    dateSetting: { locale: \"nl-NL\"},\r\n    className:classes.textField,\r\n    InputLabelProps:{shrink: true }, \r\n    icon:{CalendarTodayIcon},\r\n    validate: rowData => Boolean(rowData.arrivalDate) },\r\n    { title: \"Is Sent\", field: 'isSent'},\r\n    { title: \"Volunteer Id\", field: 'volunteerId',editable: true },\r\n  ]\r\n  // sessionStorage.getItem(\"permissionType\")==\"admin\" && columns.push({title: \"Repeat\",field: 'repeat', lookup:{24:'Day',720:'Month',8760:'Year'}})\r\n  const onClickSelect=(evt, newdata) =>{\r\n      newdata.forEach(el=>{\r\n        if(!el.isSent){\r\n          el.isSent=true;\r\n        $.ajax({\r\n          type: \"POST\",\r\n          url: \"http://localhost:8080/sentPackage\", \r\n          data: {id:el.id, isSent:true }  \r\n        }).done(function(fetchData) {\r\n          console.log(fetchData)\r\n          })\r\n          .fail(function(jqXhr) {\r\n            alert(\"Try again!!\");\r\n            console.log(jqXhr)\r\n          })\r\n        }\r\n        el.tableData.checked=false\r\n      })\r\n      console.log(newdata)\r\n      console.log(data)\r\n      setData([...data]) \r\n\r\n  }\r\n\r\n  const theme = createMuiTheme({\r\n    palette: {\r\n      secondary: {\r\n        main: '#6272a8',\r\n        light: '#6272a8',\r\n        dark: '#6272a8',\r\n      }\r\n    },\r\n  });\r\n\r\n  const funcEditable={\r\n    onRowAdd: (newRow) => new Promise((resolve, reject) => {\r\n      let updatedRows = [...data, { id: Math.floor(Math.random() * 10000), ...newRow }]\r\n      console.log(updatedRows)\r\n      let YOUR_ACCESS_TOKEN=\"pk.5ddce3b149ced23354244159a461c149\"\r\n      let SEARCH_STRING=newRow.address\r\n      $.ajax({\r\n          type: \"GET\",\r\n          url: 'https://us1.locationiq.com/v1/search.php?key='+YOUR_ACCESS_TOKEN+'&q='+SEARCH_STRING+'&format=json',  \r\n      }).done(function(fetchData) {\r\n        $.ajax({\r\n          type: \"POST\",\r\n          url: \"http://localhost:8080/addPackage\",\r\n          data: { id: Math.floor(Math.random() * 10000), ...newRow,lat:fetchData[0].lat,lon:fetchData[0].lon },\r\n        \r\n        }).done(function(fetchData) {\r\n          console.log(fetchData)\r\n          if(fetchData.status==200){\r\n            let date=new Date(fetchData.packages.arrivalDate);\r\n            fetchData.packages.arrivalDate=date.toLocaleDateString('nl-NL');\r\n            updatedRows=[fetchData.packages]\r\n          }else{\r\n            alert(\"cant add package!!\");\r\n          }\r\n          })\r\n          .fail(function(jqXhr) {\r\n            alert(\"cant add package!!\");\r\n          })\r\n          setTimeout(() => {\r\n            console.log()\r\n            setData([...data, updatedRows])\r\n            resolve()\r\n          }, 2000)\r\n          \r\n        })\r\n        .fail(function(jqXhr) {\r\n        console.log(jqXhr)\r\n        })\r\n      // if(newRow.repeat!==null){\r\n      //   updateRepeat(newRow)\r\n      // }\r\n    }),\r\n    onRowDelete: selectedRow => new Promise((resolve, reject) => {\r\n      const index = selectedRow.tableData.id;\r\n      console.log(selectedRow)\r\n      const updatedRows = [...data]\r\n      updatedRows.splice(index, 1)\r\n      $.ajax({\r\n        type: \"DELETE\",\r\n        url: \"http://localhost:8080/deletePackage\",\r\n        data: selectedRow,\r\n      \r\n      }).done(function(fetchData) {\r\n        console.log(fetchData)\r\n        })\r\n        .fail(function(jqXhr) {\r\n          alert(\"cant delete package!!\");\r\n        })\r\n      setTimeout(() => {\r\n        setData(updatedRows)\r\n        resolve()\r\n      }, 2000)\r\n    }),\r\n    onRowUpdate:(updatedRow,oldRow)=>new Promise((resolve,reject)=>{\r\n      const index=oldRow.tableData.id;\r\n      const updatedRows=[...data]\r\n      updatedRows[index]=updatedRow\r\n      $.ajax({\r\n        type: \"POST\",\r\n        url: \"http://localhost:8080/updatePackage\",\r\n        data: updatedRow,\r\n      \r\n      }).done(function(fetchData) {\r\n        console.log(fetchData)\r\n        // setData(fetchData.packages)\r\n        })\r\n        .fail(function(jqXhr) {\r\n          alert(\"cant update package!!\");\r\n        })\r\n      setTimeout(() => {\r\n        setData(updatedRows)\r\n        resolve()\r\n      }, 2000)\r\n      // if(newRow.repeat!==null){\r\n      //   updateRepeat(newRow)\r\n      // }\r\n    })\r\n\r\n  }\r\n//repeat\r\n  // let IntervalId=0;\r\n//   const \r\n//    = setInterval(fname, 10000);\r\n// /* later */\r\n// clearInterval(refreshIntervalId);\r\n  return (\r\n    <div className=\"App\">\r\n      <MuiThemeProvider theme={theme}>\r\n      <h1 align=\"center\" className={classes.title}>Package List</h1>\r\n      <br/>\r\n      <MaterialTable\r\n      icons={tableIcons}\r\n        title=\"\"\r\n        data={data}\r\n        columns={columns}\r\n        options={{\r\n          selection: true,\r\n          rowStyle: rowData => ({ backgroundColor: rowData.tableData.checked ? '#ced3e4' : '' }),\r\n          actionsColumnIndex: -1, addRowPosition: \"first\",\r\n          headerStyle: {\r\n            backgroundColor: \"black\",\r\n            color: \"#FFF\",\r\n            fontWeight: \"bold\",\r\n          },\r\n        }}\r\n        editable={ sessionStorage.getItem(\"permissionType\")==\"admin\"? funcEditable:{}}\r\n        actions={[\r\n          {\r\n            tooltip: 'package was send Today:'+new Date(),\r\n            icon: 'check',\r\n            onClick: onClickSelect,\r\n          }\r\n        ]}\r\n      />\r\n      </MuiThemeProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}