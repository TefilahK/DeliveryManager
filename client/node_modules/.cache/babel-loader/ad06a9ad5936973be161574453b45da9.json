{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tefil\\\\Desktop\\\\DeliveryManager\\\\DeliveryManager\\\\client\\\\src\\\\components\\\\sideBar\\\\Scheduler.js\",\n    _s = $RefreshSig$();\n\nimport { Component } from 'react';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { fontSize } from \"@material-ui/system\";\nimport $ from \"jquery\";\nimport { alpha } from '@material-ui/core/styles';\nimport { withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport { Button, Divider } from \"@material-ui/core\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Avatar from '@material-ui/core/Avatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport Grid from '@material-ui/core/Grid';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { useLocation } from 'react-router-dom';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport Alert from '@material-ui/lab/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Scheduler() {\n  _s();\n\n  const [workingUsers, setWorkingUsers] = React.useState([]);\n  const [dense, setDense] = React.useState(false);\n  const [open, setOpen] = React.useState(false);\n  const history = useHistory();\n  let location = useLocation();\n  const theme = createMuiTheme({\n    overrides: {\n      MuiTableRow: {\n        \"&$selected\": {\n          backgroundColor: 'red'\n        }\n      }\n    }\n  });\n  React.useEffect(() => {\n    async function fetchVolunteers() {\n      $.ajax({\n        type: \"POST\",\n        url: \"http://localhost:8080/users/listUsers\"\n      }).done(function (fetchData) {\n        let working = [];\n        fetchData.users.forEach(el => {\n          console.log(el.workingToday);\n\n          if (el.workingToday) {\n            working.push(el);\n          }\n        });\n        console.log(working);\n        setWorkingUsers(working);\n      }).fail(function (jqXhr) {\n        console.log(jqXhr);\n      });\n    }\n\n    fetchVolunteers();\n  }, []);\n\n  function generate(user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ListItem, {\n        style: {\n          width: \"300px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(ListItemAvatar, {\n          children: /*#__PURE__*/_jsxDEV(Avatar, {\n            src: user.img,\n            style: {\n              height: theme.spacing(7),\n              width: theme.spacing(7)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n          style: {\n            fontFamily: \"cursive\",\n            padding: \"10px\"\n          },\n          primary: user.name,\n          secondary: user.address\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(ListItemSecondaryAction, {\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            edge: \"end\",\n            \"aria-label\": \"delete\",\n            onClick: (evt, data) => {\n              //database\n              console.log(user);\n              $.ajax({\n                type: \"POSt\",\n                url: \"http://localhost:8080/users/updateWorkingToday\",\n                data: { ...user,\n                  workingToday: false\n                }\n              }).done(function (fetchData) {\n                console.log(fetchData);\n              }).fail(function (jqXhr) {\n                console.log(\"cant delete user!!\");\n              }); //תצוגה\n\n              const index = workingUsers.indexOf(user);\n              let working = [...workingUsers];\n\n              if (index > -1) {\n                working.splice(index, 1);\n              } // working[index].id=false\n\n\n              setWorkingUsers(working);\n            },\n            children: /*#__PURE__*/_jsxDEV(DeleteIcon, {\n              style: {\n                color: \"red\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this);\n  }\n\n  const handleAssignVolunteers = () => {\n    $.ajax({\n      type: \"POSt\",\n      url: \"http://localhost:8080/map/assignVolunteers\",\n      data: { ...workingUsers,\n        date: new Date()\n      }\n    }).done(function (fetchData) {\n      console.log(fetchData);\n    }).fail(function (jqXhr) {\n      console.log(\"cant delete user!!\");\n    }); //go to map\n\n    history.push('/Map');\n  };\n\n  const useStyles = makeStyles(theme => ({\n    title: {\n      fontSize: \"50px\",\n      fontFamily: \"cursive\",\n      marginRight: theme.spacing(10)\n    },\n    checkbox: {\n      width: 100,\n      height: 100\n    },\n    demo: {\n      backgroundColor: theme.palette.background.paper\n    },\n    list: {\n      marginLeft: theme.spacing(0)\n    },\n    addButton: {\n      // display: \"flex\",\n      justifyContent: \"center\",\n      color: \"black\",\n      backgroundColor: \"#bdc4db\",\n      width: \"300px\",\n      marginLeft: theme.spacing(55)\n    }\n  }));\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Snackbar, {\n        style: {\n          diaplay: \"flex\"\n        },\n        open: open,\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          style: {\n            justifyContent: \"center\"\n          },\n          severity: \"error\",\n          children: \"user is already working Today!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        align: \"center\",\n        className: classes.title,\n        children: \"Working Today\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.list,\n        item: true,\n        xs: 12,\n        md: 28,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.demo,\n          children: /*#__PURE__*/_jsxDEV(List, {\n            dense: dense,\n            children: workingUsers.map(el => generate(el))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"outlined\",\n        onClick: handleAssignVolunteers,\n        className: classes.addButton,\n        children: \"Assign Volunteers to Packages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Scheduler, \"24CLWDf2V0yeVh5wZPHfIml9qcU=\", true, function () {\n  return [useHistory, useLocation];\n});\n\n_c = Scheduler;\n\nvar _c;\n\n$RefreshReg$(_c, \"Scheduler\");","map":{"version":3,"sources":["C:/Users/tefil/Desktop/DeliveryManager/DeliveryManager/client/src/components/sideBar/Scheduler.js"],"names":["Component","makeStyles","fontSize","$","alpha","withStyles","MuiThemeProvider","createMuiTheme","Button","Divider","List","ListItem","ListItemAvatar","ListItemIcon","ListItemSecondaryAction","ListItemText","Avatar","IconButton","Grid","React","useState","useEffect","useHistory","DeleteIcon","useLocation","Snackbar","Alert","Scheduler","workingUsers","setWorkingUsers","dense","setDense","open","setOpen","history","location","theme","overrides","MuiTableRow","backgroundColor","fetchVolunteers","ajax","type","url","done","fetchData","working","users","forEach","el","console","log","workingToday","push","fail","jqXhr","generate","user","width","img","height","spacing","fontFamily","padding","name","address","evt","data","index","indexOf","splice","color","handleAssignVolunteers","date","Date","useStyles","title","marginRight","checkbox","demo","palette","background","paper","list","marginLeft","addButton","justifyContent","classes","display","flexDirection","diaplay","map"],"mappings":"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","sourcesContent":["import { Component } from 'react';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { fontSize } from \"@material-ui/system\";\r\nimport $ from \"jquery\";\r\nimport { alpha } from '@material-ui/core/styles'\r\nimport {\r\n\twithStyles,\r\n\tMuiThemeProvider,\r\n\tcreateMuiTheme\r\n} from '@material-ui/core/styles'\r\nimport { Button, Divider } from \"@material-ui/core\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport React, { useState,useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { useLocation } from 'react-router-dom';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport default function Scheduler(){\r\n    const [workingUsers, setWorkingUsers] = React.useState([]);\r\n    const [dense, setDense] = React.useState(false);\r\n    const [open, setOpen] = React.useState(false)\r\n\r\n    const history=useHistory();\r\n    let location=useLocation();\r\n    const theme = createMuiTheme({\r\n      overrides: {\r\n        MuiTableRow: {\r\n          \"&$selected\": {\r\n            backgroundColor: 'red'\r\n          }\r\n        },\r\n     }\r\n    })\r\n    React.useEffect(() => {\r\n      async function fetchVolunteers() {\r\n        $.ajax({\r\n          type: \"POST\",\r\n          url: \"http://localhost:8080/users/listUsers\",      \r\n        }).done(function(fetchData) {\r\n          let working=[];\r\n          fetchData.users.forEach(el=>{\r\n            console.log(el.workingToday)\r\n            if(el.workingToday){\r\n              working.push(el)\r\n            }\r\n          })\r\n          console.log(working)\r\n          setWorkingUsers(working)\r\n          })\r\n          .fail(function(jqXhr) {\r\n            console.log(jqXhr)\r\n          })\r\n        }\r\n      \r\n      fetchVolunteers();\r\n    }, []);\r\n    function generate(user) {\r\n    return (\r\n        <div>\r\n      <ListItem style={{width:\"300px\"}}>\r\n        <ListItemAvatar>\r\n          <Avatar\r\n          src={user.img}\r\n          style={{height:theme.spacing(7), width: theme.spacing(7)}}\r\n          />\r\n        </ListItemAvatar>\r\n        <br/>\r\n        <ListItemText style={{fontFamily:\"cursive\",padding:\"10px\"}}\r\n          primary={user.name}\r\n          secondary={ user.address }\r\n        />\r\n        <ListItemSecondaryAction>\r\n          <IconButton edge=\"end\" aria-label=\"delete\" onClick={(evt,data)=>{\r\n               //database\r\n            console.log(user)\r\n            $.ajax({\r\n              type: \"POSt\",\r\n              url: \"http://localhost:8080/users/updateWorkingToday\",\r\n              data:{...user,workingToday:false},\r\n            \r\n            }).done(function(fetchData) {\r\n              console.log(fetchData)\r\n              })\r\n              .fail(function(jqXhr) {\r\n                console.log(\"cant delete user!!\");\r\n            }) \r\n            //תצוגה\r\n            const index = workingUsers.indexOf(user);\r\n            let working=[...workingUsers]\r\n            if (index > -1) {\r\n              working.splice(index, 1);\r\n            }\r\n            // working[index].id=false\r\n            setWorkingUsers(working)\r\n         \r\n\r\n          }}>\r\n            <DeleteIcon style={{color:\"red\"}} />\r\n          </IconButton>\r\n        </ListItemSecondaryAction>\r\n      </ListItem>\r\n      <Divider/>\r\n      </div>\r\n    );\r\n    \r\n  }  \r\n  const handleAssignVolunteers=()=>{\r\n    $.ajax({\r\n      type: \"POSt\",\r\n      url: \"http://localhost:8080/map/assignVolunteers\",\r\n      data: {...workingUsers, date: new Date()},\r\n    \r\n    }).done(function(fetchData) {\r\n      console.log(fetchData)\r\n      })\r\n      .fail(function(jqXhr) {\r\n        console.log(\"cant delete user!!\");\r\n    }) \r\n    //go to map\r\n    history.push('/Map');\r\n\r\n  }\r\n  const useStyles = makeStyles((theme) => ({\r\n    title:{\r\n      fontSize:\"50px\",\r\n      fontFamily:\"cursive\",\r\n      marginRight:theme.spacing(10),\r\n    },\r\n    checkbox:{\r\n      width:100,\r\n      height:100,\r\n    },\r\n    demo: {\r\n      backgroundColor: theme.palette.background.paper,\r\n    },\r\n    list:{\r\n      marginLeft:theme.spacing(0),\r\n    },\r\n    addButton:{\r\n        // display: \"flex\",\r\n          justifyContent: \"center\",\r\n          color:\"black\",\r\n          backgroundColor:\"#bdc4db\",\r\n          width:\"300px\",\r\n          marginLeft:theme.spacing(55),\r\n         \r\n      }\r\n  }))\r\n  const classes = useStyles();\r\n\r\n\r\nreturn(\r\n    <div >\r\n    <Grid style={{display:\"flex\", flexDirection:\"column\"}}>\r\n    <Snackbar style={{diaplay:\"flex\" }} open={open} >\r\n      <Alert style={{justifyContent:\"center\"}} severity=\"error\">user is already working Today!</Alert>\r\n    </Snackbar>\r\n    <h1 align=\"center\" className={classes.title}>Working Today</h1>\r\n    <br/>\r\n    <Grid className={classes.list} item xs={12} md={28}>\r\n        <div className={classes.demo}>\r\n            <List dense={dense}>\r\n            {workingUsers.map(el=>generate(el))}\r\n            </List>\r\n        </div>\r\n    </Grid>\r\n    <br/>\r\n    <br/>\r\n    {/* <Button variant=\"contained\" style={{ }} onClick={handleAssignVolunteers}>Assign Volunteers to packages</Button> */}\r\n    <Button variant=\"outlined\" onClick={handleAssignVolunteers} className={classes.addButton}  >\r\n    Assign Volunteers to Packages\r\n     </Button>\r\n     </Grid>\r\n    </div>\r\n)}"]},"metadata":{},"sourceType":"module"}