{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tefil\\\\Desktop\\\\DeliveryManager\\\\DeliveryManager\\\\client\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\"; // import SignUpDialog from \"./SignUpDialog\";\n\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport FacebookLogin from \"react-facebook-login\";\nimport GoogleLogin from \"react-google-login\";\nimport $ from \"jquery\";\nimport { useHistory } from \"react-router-dom\"; // import Footer from \"./Footer\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: \"100vw\",\n    height: \"100vh\"\n  },\n  image: {\n    backgroundImage: \"url(https://source.unsplash.com/random/?delivery)\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor: theme.palette.type === \"light\" ? theme.palette.grey[50] : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\"\n  },\n  paper: {\n    margin: theme.spacing(8, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    // Fix IE 11 issue.\n    marginTop: theme.spacing(1)\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2)\n  }\n}));\nexport default function Login() {\n  _s();\n\n  let history = useHistory();\n  const [email, setEmail] = React.useState(localStorage.getItem(\"userEmail\"));\n  const [password, setPassword] = React.useState(localStorage.getItem(\"password\"));\n  const [checkedRemember, setChecked] = React.useState(JSON.parse(localStorage.getItem(\"checked\")));\n  const classes = useStyles();\n  useEffect(() => {\n    fetch(\"/LogOut\").then(() => {\n      sessionStorage.setItem(\"userEmail\", \"\");\n      sessionStorage.setItem(\"permissionType\", \"\");\n    });\n  });\n\n  const responseFacebook = response => {\n    console.log(response);\n  };\n\n  const onSuccessGoogle = response => {\n    // console.log(response.profileObj.googleId)\n    var data = {\n      emailAddress: response.profileObj.email,\n      googleId: response.profileObj.googleId\n    }; // Submit form via jQuery/AJAX\n\n    $.ajax({\n      type: \"GET\",\n      url: \"http://localhost:8080/login/google\",\n      data: data\n    }).done(function (data) {\n      if (data.status == 200) {\n        console.log(data.type);\n        sessionStorage.setItem(\"userEmail\", email);\n        sessionStorage.setItem(\"permissionType\", data.type ? 'admin' : 'volunteer');\n        let isadmin;\n\n        if (data.type) {\n          isadmin = true;\n        } else {\n          isadmin = false;\n        }\n\n        history.push({\n          pathname: '/DashBoard',\n          state: {\n            admin: isadmin\n          }\n        });\n\n        if (checkedRemember) {\n          localStorage.setItem(\"password\", password);\n          localStorage.setItem(\"userEmail\", email);\n          localStorage.setItem(\"checked\", \"true\");\n        } else {\n          localStorage.setItem(\"password\", \"\");\n          localStorage.setItem(\"userEmail\", \"\");\n          localStorage.setItem(\"checked\", \"false\");\n        } //this.props.history.push(\"/Market\");\n\n      }\n    }).fail(function (jqXhr) {\n      console.log(jqXhr);\n    });\n  };\n\n  const onFailureGoogle = response => {\n    console.log(response);\n  };\n\n  const onChangeEmailHandler = e => setEmail(e.target.value);\n\n  const onChangePasswordHandler = e => setPassword(e.target.value);\n\n  const handleCheckChange = event => {\n    setChecked(event.target.checked);\n  };\n\n  function submitHandler(e) {\n    e.preventDefault();\n    var data = {\n      emailAddress: email,\n      password: password\n    }; // Submit form via jQuery/AJAX\n\n    $.ajax({\n      type: \"POST\",\n      url: \"http://localhost:8080/login\",\n      data: data\n    }).done(function (data) {\n      if (data.status == 200) {\n        console.log(data.type);\n        sessionStorage.setItem(\"userEmail\", email);\n        sessionStorage.setItem(\"permissionType\", data.type ? 'admin' : 'volunteer');\n        sessionStorage.setItem(\"id\", data.id);\n        let isadmin;\n\n        if (data.type) {\n          isadmin = true;\n        } else {\n          isadmin = false;\n        }\n\n        history.push({\n          pathname: '/Home',\n          state: {\n            admin: isadmin\n          }\n        });\n\n        if (checkedRemember) {\n          localStorage.setItem(\"password\", password);\n          localStorage.setItem(\"userEmail\", email);\n          localStorage.setItem(\"checked\", \"true\");\n        } else {\n          localStorage.setItem(\"password\", \"\");\n          localStorage.setItem(\"userEmail\", \"\");\n          localStorage.setItem(\"checked\", \"false\");\n        } //this.props.history.push(\"/Market\");\n\n      }\n    }).fail(function (jqXhr) {\n      console.log(jqXhr);\n    });\n  } // function redirectSignUp(e) {\n  //   //e.preventDefault();\n  //   history.push(\"/SignUp\");\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      component: \"main\",\n      className: classes.root,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: false,\n        sm: 4,\n        md: 7,\n        className: classes.image\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 8,\n        md: 5,\n        component: Paper,\n        elevation: 8,\n        square: true,\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          from: \"/Login\",\n          render: props => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.paper,\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Avatar, {\n              className: classes.avatar,\n              children: /*#__PURE__*/_jsxDEV(LockOutlinedIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              component: \"h1\",\n              variant: \"h5\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              className: classes.form,\n              onSubmit: submitHandler,\n              noValidate: true,\n              children: [/*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                margin: \"normal\",\n                required: true,\n                fullWidth: true,\n                id: \"email\",\n                label: \"Email Address\",\n                name: \"email\",\n                autoComplete: \"email\",\n                value: email,\n                onChange: onChangeEmailHandler,\n                autoFocus: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                variant: \"outlined\",\n                margin: \"normal\",\n                required: true,\n                fullWidth: true,\n                value: password,\n                name: \"password\",\n                label: \"Password\",\n                type: \"password\",\n                id: \"password\",\n                autoComplete: \"current-password\",\n                onChange: onChangePasswordHandler\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                  value: \"remember\",\n                  checked: checkedRemember,\n                  onChange: handleCheckChange,\n                  color: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 25\n                }, this),\n                label: \"Remember me\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                type: \"submit\",\n                fullWidth: true,\n                variant: \"contained\",\n                className: classes.submit,\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                container: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 189,\n    columnNumber: 5\n  }, this);\n} // export default withRouter(Login);\n\n_s(Login, \"txySNrDiW+BIIjoEO8FTwTfI4WI=\", false, function () {\n  return [useHistory, useStyles];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/tefil/Desktop/DeliveryManager/DeliveryManager/client/src/components/Login.js"],"names":["React","useState","useEffect","Button","TextField","Dialog","DialogActions","DialogContent","IconButton","CloseIcon","makeStyles","Avatar","CssBaseline","FormControlLabel","Checkbox","Link","Grid","Box","LockOutlinedIcon","Typography","Paper","BrowserRouter","Route","Switch","FacebookLogin","GoogleLogin","$","useHistory","useStyles","theme","root","width","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","marginTop","submit","Login","history","email","setEmail","localStorage","getItem","password","setPassword","checkedRemember","setChecked","JSON","parse","classes","fetch","then","sessionStorage","setItem","responseFacebook","response","console","log","onSuccessGoogle","data","emailAddress","profileObj","googleId","ajax","url","done","status","isadmin","push","pathname","state","admin","fail","jqXhr","onFailureGoogle","onChangeEmailHandler","e","target","value","onChangePasswordHandler","handleCheckChange","event","checked","submitHandler","preventDefault","id","props"],"mappings":"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","sourcesContent":["\r\n\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n// import SignUpDialog from \"./SignUpDialog\";\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport FacebookLogin from \"react-facebook-login\";\r\nimport GoogleLogin from \"react-google-login\";\r\nimport $ from \"jquery\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import Footer from \"./Footer\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n  },\r\n  image: {\r\n    backgroundImage: \"url(https://source.unsplash.com/random/?delivery)\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor:\r\n      theme.palette.type === \"light\"\r\n        ? theme.palette.grey[50]\r\n        : theme.palette.grey[900],\r\n    backgroundSize: \"cover\",\r\n    backgroundPosition: \"center\",\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function Login() {\r\n  let history = useHistory();\r\n  const [email, setEmail] = React.useState(localStorage.getItem(\"userEmail\"));\r\n  const [password, setPassword] = React.useState(\r\n    localStorage.getItem(\"password\")\r\n  );\r\n  const [checkedRemember, setChecked] = React.useState(\r\n    JSON.parse(localStorage.getItem(\"checked\"))\r\n  );\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    fetch(\"/LogOut\").then(()=>{sessionStorage.setItem(\"userEmail\", \"\");sessionStorage.setItem(\"permissionType\", \"\");});\r\n  });\r\n\r\n  const responseFacebook = (response) => {\r\n    console.log(response);\r\n  };\r\n\r\n  const onSuccessGoogle = (response) => {\r\n    // console.log(response.profileObj.googleId)\r\n    var data = {\r\n      emailAddress: response.profileObj.email,\r\n      googleId: response.profileObj.googleId,\r\n    };\r\n\r\n    // Submit form via jQuery/AJAX\r\n    $.ajax({\r\n      type: \"GET\",\r\n      url: \"http://localhost:8080/login/google\",\r\n      data: data,\r\n    \r\n    }).done(function(data) {\r\n      if(data.status==200){\r\n        console.log(data.type)\r\n        sessionStorage.setItem(\"userEmail\", email);\r\n        sessionStorage.setItem(\"permissionType\", data.type?'admin':'volunteer');\r\n        let isadmin;\r\n        if(data.type){\r\n          isadmin=true\r\n        }else{\r\n          isadmin=false\r\n        }\r\n        history.push({\r\n          pathname: '/DashBoard',\r\n          state: { admin: isadmin }\r\n        });\r\n        if (checkedRemember) {\r\n          localStorage.setItem(\"password\", password);\r\n          localStorage.setItem(\"userEmail\", email);\r\n          localStorage.setItem(\"checked\", \"true\");\r\n        } else {\r\n          localStorage.setItem(\"password\", \"\");\r\n          localStorage.setItem(\"userEmail\", \"\");\r\n          localStorage.setItem(\"checked\", \"false\");\r\n        }\r\n        //this.props.history.push(\"/Market\");\r\n      }\r\n      })\r\n      .fail(function(jqXhr) {\r\n        console.log(jqXhr)\r\n      })\r\n  };\r\n  const onFailureGoogle = (response) => {\r\n    console.log(response);\r\n  };\r\n\r\n  const onChangeEmailHandler = (e) => setEmail(e.target.value);\r\n  const onChangePasswordHandler = (e) => setPassword(e.target.value);\r\n  const handleCheckChange = (event) => {\r\n    setChecked(event.target.checked);\r\n  };\r\n  function submitHandler(e) {\r\n    e.preventDefault();\r\n    var data = {\r\n      emailAddress: email,\r\n      password: password,\r\n    };\r\n\r\n    // Submit form via jQuery/AJAX\r\n    $.ajax({\r\n      type: \"POST\",\r\n      url: \"http://localhost:8080/login\",\r\n      data: data,\r\n    \r\n    }).done(function(data) {\r\n      if(data.status==200){\r\n        console.log(data.type)\r\n        sessionStorage.setItem(\"userEmail\", email);\r\n        sessionStorage.setItem(\"permissionType\", data.type?'admin':'volunteer');\r\n        sessionStorage.setItem(\"id\", data.id);\r\n        let isadmin;\r\n        if(data.type){\r\n          isadmin=true\r\n        }else{\r\n          isadmin=false\r\n        }\r\n        history.push({\r\n          pathname: '/Home',\r\n          state: { admin: isadmin }\r\n        });\r\n        if (checkedRemember) {\r\n          localStorage.setItem(\"password\", password);\r\n          localStorage.setItem(\"userEmail\", email);\r\n          localStorage.setItem(\"checked\", \"true\");\r\n        } else {\r\n          localStorage.setItem(\"password\", \"\");\r\n          localStorage.setItem(\"userEmail\", \"\");\r\n          localStorage.setItem(\"checked\", \"false\");\r\n        }\r\n        //this.props.history.push(\"/Market\");\r\n      }\r\n      })\r\n      .fail(function(jqXhr) {\r\n        console.log(jqXhr)\r\n      })\r\n      \r\n  }\r\n\r\n  // function redirectSignUp(e) {\r\n  //   //e.preventDefault();\r\n  //   history.push(\"/SignUp\");\r\n  // }\r\n\r\n  return (\r\n    <div>\r\n      <Grid container component=\"main\" className={classes.root}>\r\n        <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n        <Grid item xs={12} sm={8} md={5} component={Paper} elevation={8} square>\r\n        {/* <BrowserRouter> */}\r\n          {/* <Switch> */}\r\n            <Route\r\n              exact\r\n              from=\"/Login\"\r\n              render={(props) => (\r\n                <div className={classes.paper}>\r\n                  <br />\r\n                  <br />\r\n                  <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon />\r\n                  </Avatar>\r\n                  <Typography component=\"h1\" variant=\"h5\">\r\n                    Login\r\n                  </Typography>\r\n                  <form\r\n                    className={classes.form}\r\n                    onSubmit={submitHandler}\r\n                    noValidate\r\n                  >\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      value={email}\r\n                      onChange={onChangeEmailHandler}\r\n                      autoFocus\r\n                    />\r\n                    <TextField\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      value={password}\r\n                      name=\"password\"\r\n                      label=\"Password\"\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      autoComplete=\"current-password\"\r\n                      onChange={onChangePasswordHandler}\r\n                    />\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Checkbox\r\n                          value=\"remember\"\r\n                          checked={checkedRemember}\r\n                          onChange={handleCheckChange}\r\n                          color=\"primary\"\r\n                        />\r\n                      }\r\n                      label=\"Remember me\"\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      className={classes.submit}\r\n                    >\r\n                     Login\r\n                    </Button>\r\n                    {/* <GoogleLogin\r\n                      clientId=\"89937054961-pjirtcn32cn53prhutk1u8n60p547vvo.apps.googleusercontent.com\" //CLIENTID NOT CREATED YET\r\n                      buttonText=\"LOGIN WITH GOOGLE\"\r\n                      onSuccess={onSuccessGoogle}\r\n                      onFailure={onFailureGoogle}\r\n                    /> */}\r\n                    <br />\r\n                    <Grid container>\r\n                      {/* <Grid item xs>\r\n                        <Link>Forgot password?</Link>\r\n                      </Grid> */}\r\n                      {/* <Grid item>\r\n                        <Link onClick={redirectSignUp}>\r\n                          {\"Don't have an account? Sign Up\"}\r\n                        </Link>\r\n                      </Grid> */}\r\n                    </Grid>\r\n                  </form>\r\n                </div>\r\n              )}\r\n            />\r\n          {/* </Switch> */}\r\n          {/* </BrowserRouter> */}\r\n        </Grid>\r\n      </Grid>\r\n      {/* <Footer /> */}\r\n    </div>\r\n  );\r\n}\r\n\r\n// export default withRouter(Login);\r\n"]},"metadata":{},"sourceType":"module"}